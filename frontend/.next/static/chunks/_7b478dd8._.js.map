{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SWATHIN/Desktop/Twilio%20Project/frontend/src/lib/getUser.ts"],"sourcesContent":["import { IUser } from \"@/type/user\";\r\n\r\nexport async function getCurrentUser():Promise<IUser | null> {\r\n  try {\r\n    const res = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/user`, {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    if (!res.ok) return null;\r\n\r\n    const data = await res.json();\r\n    return data.user;\r\n  } catch (error) {\r\n    console.error(\"Error fetching user:\", error);\r\n    return null;\r\n  }\r\n}"],"names":[],"mappings":";;;;AAI+B;AAFxB,eAAe;IACpB,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,AAAC,GAAuC,kEAAA,UAAQ;YACtE,QAAQ;YACR,aAAa;YACb,SAAS;gBACP,gBAAgB;YAClB;QACF;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;QAEpB,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,IAAI;IAClB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SWATHIN/Desktop/Twilio%20Project/frontend/src/context/AuthContext.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { IUser } from \"@/type/user\";\r\nimport { getCurrentUser } from \"@/lib/getUser\";\r\n\r\n// Define the shape of the context\r\ninterface AuthContextType {\r\n    user: IUser | null;\r\n    loading: boolean;\r\n    setUser: React.Dispatch<React.SetStateAction<IUser | null>>;\r\n}\r\n\r\n// Create the context with default empty values\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\ninterface AuthProviderProps {\r\n    children: ReactNode;\r\n}\r\n\r\nexport const AuthProvider = ({ children }: AuthProviderProps) => {\r\n    const [user, setUser] = useState<IUser | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const data = await getCurrentUser();\r\n                if (!data) {\r\n                    router.push('/');\r\n                }\r\n                setUser(data);\r\n            } catch (error) {\r\n                console.error(\"Error in AuthProvider:\", error);\r\n                setUser(null);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchUser();\r\n    }, []);\r\n\r\n    return AuthContext.Provider({\r\n        value: { user, loading, setUser },\r\n        children: children\r\n    });\r\n};\r\n\r\n\r\nexport const useAuth = () => {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error(\"useAuth must be used within an AuthProvider\");\r\n    }\r\n    return context;\r\n};"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;;AALA;;;;AAcA,+CAA+C;AAC/C,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAMxD,MAAM,eAAe;QAAC,EAAE,QAAQ,EAAqB;;IACxD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAe;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;kCAAC;YACN,MAAM;oDAAY;oBACd,IAAI;wBACA,WAAW;wBACX,MAAM,OAAO,MAAM,IAAA,0IAAc;wBACjC,IAAI,CAAC,MAAM;4BACP,OAAO,IAAI,CAAC;wBAChB;wBACA,QAAQ;oBACZ,EAAE,OAAO,OAAO;wBACZ,QAAQ,KAAK,CAAC,0BAA0B;wBACxC,QAAQ;oBACZ,SAAU;wBACN,WAAW;oBACf;gBACJ;;YAEA;QACJ;iCAAG,EAAE;IAEL,OAAO,YAAY,QAAQ,CAAC;QACxB,OAAO;YAAE;YAAM;YAAS;QAAQ;QAChC,UAAU;IACd;AACJ;GA7Ba;;QAGM,kJAAS;;;KAHf;AAgCN,MAAM,UAAU;;IACnB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANa","debugId":null}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SWATHIN/Desktop/Twilio%20Project/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}